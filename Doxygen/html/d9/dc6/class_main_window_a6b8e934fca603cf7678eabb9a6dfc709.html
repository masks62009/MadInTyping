<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MadInTyping: MainWindow::keyPressEvent</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- ç”¢ç”Ÿè€…: Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>ä¸»é é¢</span></a></li>
      <li><a href="../../annotated.html"><span>é¡åˆ¥</span></a></li>
      <li><a href="../../files.html"><span>æª”æ¡ˆ</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
  <div class="navpath"><a class="el" href="../../d9/dc6/class_main_window.html">MainWindow</a>
  </div>
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14">At</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a62c533bafd6ca31ef4d1f5adeaeff5a1.html#a62c533bafd6ca31ef4d1f5adeaeff5a1">awakeEnd</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50">Buff</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_af4ca5d0d3d18ddcb7d54b6596bbf4797.html#af4ca5d0d3d18ddcb7d54b6596bbf4797">changeEvent</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_af4ca5d0d3d18ddcb7d54b6596bbf4797.html#af4ca5d0d3d18ddcb7d54b6596bbf4797">changeEvent</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a72b55013dabecf622d61727004749486.html#a72b55013dabecf622d61727004749486">check</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a23b3e9a558a4d57f6eee23ffb573e09f.html#a23b3e9a558a4d57f6eee23ffb573e09f">Col</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a8e8ecdebc5e096c02251fda9915acbaa.html#a8e8ecdebc5e096c02251fda9915acbaa">correct</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a4a7d2107db41c2018dfeb824c3eb1de8.html#a4a7d2107db41c2018dfeb824c3eb1de8">drawLayout</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_ad44fa9aa9d906bcc783c17007a1f53d5.html#ad44fa9aa9d906bcc783c17007a1f53d5">Grid</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a80dd2fad8b3789ea9701ea8cba62bf3d.html#a80dd2fad8b3789ea9701ea8cba62bf3d">incorrect</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="../../d9/dc6/class_main_window_a6b8e934fca603cf7678eabb9a6dfc709.html#a6b8e934fca603cf7678eabb9a6dfc709">keyPressEvent</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a26b28c2d8768662be86c1c3ac57f9c73.html#a26b28c2d8768662be86c1c3ac57f9c73">LabelList</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a8b244be8b7b7db1b08de2a2acb9409db.html#a8b244be8b7b7db1b08de2a2acb9409db">MainWindow</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_af5794968634968d8efd9d07087871087.html#af5794968634968d8efd9d07087871087">recorrect</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a134c755b25feeaef08fd6d8d779324cd.html#a134c755b25feeaef08fd6d8d779324cd">Scroll</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a4af52de78d8a840f121adfe9c6396a42.html#a4af52de78d8a840f121adfe9c6396a42">setText</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_abb90d8cf7c197970c9fe616f6080514f.html#abb90d8cf7c197970c9fe616f6080514f">showTime</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_add56592b955bc441784172f5d224a9fa.html#add56592b955bc441784172f5d224a9fa">status</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a25223c7e8105ae1cc5810349aabff2a8.html#a25223c7e8105ae1cc5810349aabff2a8">Text</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a94b1bd28a73817a1ee6c42f510135b30.html#a94b1bd28a73817a1ee6c42f510135b30">text2List</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a43f9316d8c30dd49710f4e17e452fb47.html#a43f9316d8c30dd49710f4e17e452fb47">time</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_a356578805ed1248a7f2807434cb0e5ee.html#a356578805ed1248a7f2807434cb0e5ee">timer</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d9/dc6/class_main_window_ae98d00a93bc118200eeef9f9bba1dba7.html#ae98d00a93bc118200eeef9f9bba1dba7">~MainWindow</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top">
<a class="anchor" id="a6b8e934fca603cf7678eabb9a6dfc709"></a><!-- doxytag: member="MainWindow::keyPressEvent" ref="a6b8e934fca603cf7678eabb9a6dfc709" args="(QKeyEvent *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::keyPressEvent </td>
          <td>(</td>
          <td class="paramtype">QKeyEvent *&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ä¸»è¦å›æ‡‰æ‰€æœ‰çš„éµç›¤äº‹ä»¶ï¼Œè¨ˆç®—æŒ‰éŒ¯å¹¾æ¬¡ï¼Œ widgetæ›è¡Œç­‰ç­‰çš„äº‹ï¼Œå…¶å¯¦æ‡‰è©²ç²¾ç°¡ä¸€é»æ‰æ˜¯ </p>
<p>æ•´å€‹ç¨‹å¼çš„é‹ä½œéƒ½åœ¨é€™é‚Šï¼ŒåŒ…æ‹¬è¨ˆæ™‚å™¨çš„å•Ÿå‹•èˆ‡éµç›¤äº‹ä»¶çš„åæ‡‰</p>
<p>é€™é‚Šæ˜¯æ¯”è¼ƒäº‚çš„åœ°æ–¹ï¼Œæœªä¾†æ‡‰è©²æœƒæ›´äº‚ï¼Œæ¯å€‹è¦–çª—éƒ½æœƒåœ¨é€™é‚Šè™•ç†éµç›¤äº‹ä»¶çš„åæ‡‰ å‰é¢æ˜¯æª¢æŸ¥å®šæ™‚å™¨æ˜¯ä¸æ˜¯ä»¥ç¶“è¢«å•Ÿå‹•äº†ï¼Œè‹¥æ²’æœ‰ï¼Œå‰‡é–‹å§‹ä¸€ç§’ä¸€æ¬¡çš„è¨ˆæ™‚å‹•ä½œã€‚ å› ç‚ºæ‰€æœ‰çš„è¦–çª—åæ‡‰éƒ½æ˜¯æŒ‰ä¸‹æŒ‰éµæ‰é–‹å§‹è¨ˆæ™‚ï¼Œæ‰€ä»¥é€™é‚Šæ˜¯å®Œå…¨ä¸ç”¨æ”¹å‹•çš„åœ°æ–¹ã€‚ åº•ä¸‹é–‹å§‹æ˜¯å°éµç›¤äº‹ä»¶çš„åæ‡‰ï¼Œé€™é‚Šæœƒé–‹å§‹å°æ‡‰ä¸åŒçš„è¦–çª—ç”¢ç”Ÿä¸åŒçš„åæ‡‰ï¼Œç›®å‰ åªæœ‰ç¯„æœ¬æ‰“å­—è¦–çª—ä¸€å€‹ï¼Œæ‰€ä»¥å¾ˆå–®ç´”ã€‚ è‹¥æ˜¯ç©ºç™½éµï¼Œå°±ä½œå‡ºæ¯”å°éµç›¤ Bufferå€è·Ÿé‚£å€‹æ¼¢å­—çš„å­—ç¢¼æ˜¯å¦ç›¸åŒï¼Œæ˜¯å‰‡æ›ä¸‹ä¸€ å€‹æ¼¢å­—ï¼Œè‹¥å¦å‰‡çœ‹æ˜¯éŒ¯å¹¾æ¬¡äº†ï¼ŒéŒ¯ä¸€æ¬¡å°±æ¸…ç©º Bufferå†è©¦ä¸€æ¬¡ã€‚è‹¥æ˜¯éŒ¯å…©æ¬¡å‰‡ç›´ æ¥è¼¸å‡ºæ­£ç¢ºç­”æ¡ˆã€‚ nowæ°¸é æŒ‡å‘ç›®å‰çš„æ‰“å­— Labelå€ï¼Œé çš„æ˜¯ Até€™å€‹ListæŒ‡æ¨™ å¦‚æœæ˜¯åˆªé™¤æˆ–æ˜¯å€’é€€éµï¼Œå°±åˆªæ‰Bufferè£¡ä¸€å€‹å­—å…ƒï¼Œè‹¥æ˜¯å…¶å®ƒåˆæ³•çš„å­—ï¼Œå°±åŠ ä¸Šå» ç›´åˆ°è¶…éæœ€å¤§å­—æ ¹æ•¸ã€‚</p>
<dl><dt><b>åƒæ•¸:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>QKeyEvent</em>&nbsp;</td><td>*key Qtçš„éµç›¤äº‹ä»¶ </td></tr>
  </table>
  </dd>
</dl>

<p><p>&lt; æŠŠ Atåœæ­¢å¢åŠ  ;</p>
<p>é€™ä¸€è¡Œå¾ˆé‡è¦ï¼Œå®ƒå¯ä»¥æ²å‹•æ²è»¸å€ï¼ŒæŠŠç›®å‰ä¸‹ä¸€å€‹æ‰“å­—è¦–çª—çµ¦æ‹‰åˆ°å¯è¦–ç¯„åœä¸­ã€‚</p>
<p>&lt; æŠŠä¸‹ä¸€å€‹ Labelçµ¦ç¿»ä¸Šä¾†â€¦ ;</p>
<p>&lt; è¶…éæœ€å¤§å­—æ ¹æ•¸äº†â€¦ ä¸å¢åŠ  Buffï¼Œç•¥é </p>
</p>

<p>å®šç¾©åœ¨ <a class="el" href="../../d8/dd9/mainwindow_8cpp_source.html">mainwindow.cpp</a> æª”æ¡ˆä¹‹ç¬¬ <a class="el" href="../../d8/dd9/mainwindow_8cpp_source.html#l00216">216</a> è¡Œ.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00217"></a>00217 {
<a name="l00218"></a>00218         <span class="keyword">static</span> <span class="keywordtype">int</span> count = 0 ;
<a name="l00219"></a>00219         QLabel * now = <a class="code" href="../../d9/dc6/class_main_window_a26b28c2d8768662be86c1c3ac57f9c73.html#a26b28c2d8768662be86c1c3ac57f9c73" title="QLabel æŒ‡æ¨™çš„é›†åˆ QListå¥½åƒä¸å®¹è¨±åŒ…è£ç¹¼æ‰¿è‡ª QWidgetçš„ç‰©ä»¶ï¼Œä½†æ˜¯èƒ½è£å®ƒçš„æŒ‡æ...">LabelList</a>.at(<a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>);
<a name="l00220"></a>00220         <span class="keywordflow">if</span>( !( <a class="code" href="../../d9/dc6/class_main_window_a356578805ed1248a7f2807434cb0e5ee.html#a356578805ed1248a7f2807434cb0e5ee" title="æä¾›è¨ˆæ™‚å™¨çš„å®šæ™‚å‘¼å«">timer</a>-&gt;isActive() ) )
<a name="l00221"></a>00221         {
<a name="l00222"></a>00222                 <a class="code" href="../../d9/dc6/class_main_window_a356578805ed1248a7f2807434cb0e5ee.html#a356578805ed1248a7f2807434cb0e5ee" title="æä¾›è¨ˆæ™‚å™¨çš„å®šæ™‚å‘¼å«">timer</a>-&gt;start(1000);
<a name="l00223"></a>00223                 <a class="code" href="../../d9/dc6/class_main_window_a43f9316d8c30dd49710f4e17e452fb47.html#a43f9316d8c30dd49710f4e17e452fb47" title="å¯¦éš›è¨ˆç®—ç¶“éæ™‚é–“çš„è¨ˆæ™‚å™¨">time</a>-&gt;start();
<a name="l00224"></a>00224         }
<a name="l00225"></a>00225         <span class="keywordflow">if</span>(key-&gt;key() == Qt::Key_Space)
<a name="l00226"></a>00226         {
<a name="l00227"></a>00227                 <span class="keywordflow">if</span>( <a class="code" href="../../d9/dc6/class_main_window_a72b55013dabecf622d61727004749486.html#a72b55013dabecf622d61727004749486" title="ä»¥å¾Œä¹Ÿæœƒä¸€ç›´ç”¨åˆ°çš„å­—æ ¹æª¢æŸ¥å…ƒä»¶">check</a>-&gt;<a class="code" href="../../dc/da3/class_boshiamy_a9c6f67e7f9594c5470f568c2413789f7.html#a9c6f67e7f9594c5470f568c2413789f7" title="å‚³å›å­—æ ¹èˆ‡æ¼¢å­—æ¯”å°æ˜¯å¦ä¸€è‡´">compare</a>(<a class="code" href="../../d9/dc6/class_main_window_a25223c7e8105ae1cc5810349aabff2a8.html#a25223c7e8105ae1cc5810349aabff2a8" title="æ‰“å­—ç¯„æœ¬çš„å–®å­—é›†åˆ">Text</a>.at(<a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>),<a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>) )
<a name="l00228"></a>00228                 {
<a name="l00229"></a>00229                         QString out;
<a name="l00230"></a>00230                         <a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>++;
<a name="l00231"></a>00231                         <span class="keywordflow">if</span>(count == 1)
<a name="l00232"></a>00232                         {
<a name="l00233"></a>00233                                 out =<span class="stringliteral">&quot;&lt;font color = green&gt;&quot;</span> + <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.toUpper() + <span class="stringliteral">&quot;&lt;/font&gt;&quot;</span>;
<a name="l00234"></a>00234                                 <a class="code" href="../../d9/dc6/class_main_window_af5794968634968d8efd9d07087871087.html#af5794968634968d8efd9d07087871087" title="ä¿®æ­£å¾Œæ­£ç¢ºçš„å­—æ•¸">recorrect</a>++;
<a name="l00235"></a>00235                         }
<a name="l00236"></a>00236                         <span class="keywordflow">if</span>(count == 0)
<a name="l00237"></a>00237                         {
<a name="l00238"></a>00238                                 out=<span class="stringliteral">&quot;&lt;font color = blue&gt;&quot;</span> + <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.toUpper() + <span class="stringliteral">&quot;&lt;/font&gt;&quot;</span>;
<a name="l00239"></a>00239                                 <a class="code" href="../../d9/dc6/class_main_window_a8e8ecdebc5e096c02251fda9915acbaa.html#a8e8ecdebc5e096c02251fda9915acbaa" title="æ­£ç¢ºå¹¾å€‹å­—">correct</a>++;
<a name="l00240"></a>00240                         }
<a name="l00241"></a>00241                         now-&gt;setText(out);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243                         <span class="keywordflow">if</span> ( <a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a> &gt;= <a class="code" href="../../d9/dc6/class_main_window_a26b28c2d8768662be86c1c3ac57f9c73.html#a26b28c2d8768662be86c1c3ac57f9c73" title="QLabel æŒ‡æ¨™çš„é›†åˆ QListå¥½åƒä¸å®¹è¨±åŒ…è£ç¹¼æ‰¿è‡ª QWidgetçš„ç‰©ä»¶ï¼Œä½†æ˜¯èƒ½è£å®ƒçš„æŒ‡æ...">LabelList</a>.count() )
<a name="l00244"></a>00244                         {
<a name="l00245"></a>00245                                 <a class="code" href="../../d9/dc6/class_main_window_a62c533bafd6ca31ef4d1f5adeaeff5a1.html#a62c533bafd6ca31ef4d1f5adeaeff5a1" title="æ‰“å­—çµæŸå¾Œå‡ºç¾çš„ç•«é¢ï¼ŒåŒæ™‚ä¸€ä½µçµæŸè¨ˆæ™‚">awakeEnd</a>();
<a name="l00246"></a>00246                                 <a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>--;                                   
<a name="l00247"></a>00247                         }
<a name="l00249"></a>00249                         <a class="code" href="../../d9/dc6/class_main_window_a134c755b25feeaef08fd6d8d779324cd.html#a134c755b25feeaef08fd6d8d779324cd" title="æä¾›æ²å‹•ç•«é¢çš„é›¶ä»¶">Scroll</a>-&gt;ensureWidgetVisible( <a class="code" href="../../d9/dc6/class_main_window_a26b28c2d8768662be86c1c3ac57f9c73.html#a26b28c2d8768662be86c1c3ac57f9c73" title="QLabel æŒ‡æ¨™çš„é›†åˆ QListå¥½åƒä¸å®¹è¨±åŒ…è£ç¹¼æ‰¿è‡ª QWidgetçš„ç‰©ä»¶ï¼Œä½†æ˜¯èƒ½è£å®ƒçš„æŒ‡æ...">LabelList</a>.at(<a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>)  );  
<a name="l00250"></a>00250                         <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.clear();
<a name="l00251"></a>00251                         count = 0;
<a name="l00252"></a>00252                 }
<a name="l00253"></a>00253                 <span class="keywordflow">else</span>
<a name="l00254"></a>00254                 {
<a name="l00255"></a>00255                         count++;
<a name="l00256"></a>00256                         <span class="keywordflow">if</span>(count == Max_Count)
<a name="l00257"></a>00257                         {
<a name="l00258"></a>00258                                 <a class="code" href="../../d9/dc6/class_main_window_a80dd2fad8b3789ea9701ea8cba62bf3d.html#a80dd2fad8b3789ea9701ea8cba62bf3d" title="éŒ¯èª¤å¹¾å€‹å­—">incorrect</a>++;
<a name="l00259"></a>00259                                 count = 0;
<a name="l00260"></a>00260                                 <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a> = <a class="code" href="../../d9/dc6/class_main_window_a72b55013dabecf622d61727004749486.html#a72b55013dabecf622d61727004749486" title="ä»¥å¾Œä¹Ÿæœƒä¸€ç›´ç”¨åˆ°çš„å­—æ ¹æª¢æŸ¥å…ƒä»¶">check</a>-&gt;<a class="code" href="../../dc/da3/class_boshiamy_ac08cf2e448720cd526ffe0b3c7504f8b.html#ac08cf2e448720cd526ffe0b3c7504f8b" title="å‚³å›æŒ‡å®šæ¼¢å­—çš„é è¨­æ¨¡å¼ç¬¬ä¸€å€‹å­—æ ¹">getCode</a>( <a class="code" href="../../d9/dc6/class_main_window_a25223c7e8105ae1cc5810349aabff2a8.html#a25223c7e8105ae1cc5810349aabff2a8" title="æ‰“å­—ç¯„æœ¬çš„å–®å­—é›†åˆ">Text</a>.at(<a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>) );
<a name="l00261"></a>00261                                 <a class="code" href="../../d9/dc6/class_main_window_a1253e7ccb5351cedf77271c9c1b42f14.html#a1253e7ccb5351cedf77271c9c1b42f14" title="è¨ˆç®—ç›®å‰æ‰“åˆ°é‚£é‚Šï¼Œç”¨ä¾†å–å‡º LabelListè£¡çš„æŒ‡æ¨™">At</a>++;
<a name="l00262"></a>00262                         }
<a name="l00263"></a>00263                         QString out = <span class="stringliteral">&quot;&lt;font color = red&gt;&quot;</span> + <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.toUpper() + <span class="stringliteral">&quot;&lt;/font&gt;&quot;</span>;
<a name="l00264"></a>00264                         now-&gt;setText(out);
<a name="l00265"></a>00265                         <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.clear();
<a name="l00266"></a>00266                 }
<a name="l00267"></a>00267         }
<a name="l00268"></a>00268         <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (key-&gt;key() == Qt::Key_Backspace) || (key-&gt;key() == Qt::Key_Delete) )
<a name="l00269"></a>00269         {
<a name="l00270"></a>00270                 <span class="keywordflow">if</span>( <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.isEmpty() )
<a name="l00271"></a>00271                 {
<a name="l00272"></a>00272 
<a name="l00273"></a>00273                 }
<a name="l00274"></a>00274                 <span class="keywordflow">else</span>
<a name="l00275"></a>00275                 {
<a name="l00276"></a>00276                         <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.remove( (<a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.size()-1),1 );
<a name="l00277"></a>00277                 }
<a name="l00278"></a>00278                 now-&gt;setText( <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.toUpper() );
<a name="l00279"></a>00279         }
<a name="l00280"></a>00280         <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (key-&gt;key() &gt;=Qt::Key_A) &amp;&amp; (key-&gt;key() &lt;= Qt::Key_Z) )
<a name="l00281"></a>00281         {
<a name="l00282"></a>00282                 <span class="keywordflow">if</span>(<a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.size() &gt;= Max_KeyCode)
<a name="l00283"></a>00283                 {
<a name="l00285"></a>00285 
<a name="l00286"></a>00286                 }
<a name="l00287"></a>00287                 <span class="keywordflow">else</span>
<a name="l00288"></a>00288                 {
<a name="l00289"></a>00289                         <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.append( key-&gt;text().toUpper() );
<a name="l00290"></a>00290                         now-&gt;setText( <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.toUpper() );
<a name="l00291"></a>00291                 }
<a name="l00292"></a>00292         }
<a name="l00293"></a>00293         <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (key-&gt;key() == Qt::Key_Comma) || (key-&gt;key() == Qt::Key_Period) || (key-&gt;key() == Qt::Key_BracketLeft) || (key-&gt;key() == Qt::Key_BracketRight) || (key-&gt;key() == Qt::Key_Apostrophe) || (key-&gt;key() == Qt::Key_Semicolon) || (key-&gt;key() == Qt::Key_Colon) )
<a name="l00294"></a>00294         {
<a name="l00295"></a>00295                 <span class="keywordflow">if</span>(<a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.size() &gt; Max_KeyCode)
<a name="l00296"></a>00296                 {
<a name="l00297"></a>00297 
<a name="l00298"></a>00298                 }
<a name="l00299"></a>00299                 <span class="keywordflow">else</span>
<a name="l00300"></a>00300                 {
<a name="l00301"></a>00301                         <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.append( key-&gt;text() );
<a name="l00302"></a>00302                         now-&gt;setText( <a class="code" href="../../d9/dc6/class_main_window_a8ccfab857e44c88602e2b2856b138b50.html#a8ccfab857e44c88602e2b2856b138b50" title="ç›®å‰éµç›¤çš„ Buffer å€">Buff</a>.toUpper() );
<a name="l00303"></a>00303                 }
<a name="l00304"></a>00304         }
<a name="l00305"></a>00305         <span class="keywordflow">else</span>
<a name="l00306"></a>00306         {
<a name="l00307"></a>00307 
<a name="l00308"></a>00308         }
<a name="l00309"></a>00309 }
</pre></div></p>

<p><div class="dynheader">
é€™æ˜¯æ­¤å‡½æ•¸çš„å¼•ç”¨å‡½æ•¸åœ–:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/dc6/class_main_window_a6b8e934fca603cf7678eabb9a6dfc709_a6b8e934fca603cf7678eabb9a6dfc709_cgraph.png" border="0" usemap="#d9/dc6/class_main_window_a6b8e934fca603cf7678eabb9a6dfc709_a6b8e934fca603cf7678eabb9a6dfc709_cgraph_map" alt=""></div>
</div>
</p>

</div>
</div>
    </td>
  </tr>
</table>
</div>
<hr size="1"/><address style="text-align: right;"><small>ç”¢ç”Ÿæ—¥æœŸ:Mon Dec 28 21:21:09 2009, å°ˆæ¡ˆ:MadInTyping, ç”¢ç”Ÿå™¨:&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
